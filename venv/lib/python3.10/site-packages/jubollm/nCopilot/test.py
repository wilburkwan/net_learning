from langchain.prompts import PromptTemplate
from langchain.chains import LLMChain
from langchain_google_genai import ChatGoogleGenerativeAI

# 初始化語言模型
llm = ChatGoogleGenerativeAI(model="gemini-pro", google_api_key="AIzaSyC_iu3C1yFV1oHxMwBVKjPrKVngTTs8_rc")

# 創建提示模板
prompt_template = PromptTemplate.from_template("Write a tweet about {topic}.")

# 建立LLM鏈條
tweet_chain = LLMChain(llm=llm, prompt=prompt_template)

# 定義主函數
def main(topic):
    formatted_prompt = tweet_chain.prompt.format_prompt(topic=topic).to_string()
    output = tweet_chain.invoke(formatted_prompt)
    return output

# 使用例子
if __name__ == "__main__":
    response = main(topic="AI in modern life")
    print(response)
